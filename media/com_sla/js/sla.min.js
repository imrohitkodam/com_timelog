var sla={updateTodo:function(e,s){var r={};r.todoId=s,r.todoStatus=e.value,slaService.updateTodo(r).fail(function(e){var s={error:[e.responseText]};Joomla.renderMessages(s)}).done(function(e){if(!e.success&&e.message){var s={error:[e.message]};Joomla.renderMessages(s)}if(e.messages&&Joomla.renderMessages(e.messages),e.success){s={success:[e.message]};Joomla.renderMessages(s)}})},deleteActivity:function(e,s,r){if(!confirm(Joomla.JText._("COM_SLA_ACTIVITY_CONFIRM_DELETE")))return!1;var a={};a.activityId=s,a.licenseId=r,slaService.deleteActivity(a).fail(function(e){var s={error:[e.responseText]};Joomla.renderMessages(s)}).done(function(s){if(!s.success&&s.message){var r={error:[s.message]};Joomla.renderMessages(r)}if(s.messages&&Joomla.renderMessages(s.messages),s.success){r={success:[s.message]};Joomla.renderMessages(r),jQuery(e).closest("tr").remove()}})},archiveActivity:function(e,s,r){if(!confirm(Joomla.JText._("COM_SLA_ACTIVITY_CONFIRM_ARCHIVE")))return!1;var a={};a.activityId=s,a.licenseId=r,slaService.archiveActivity(a).fail(function(e){var s={error:[e.responseText]};Joomla.renderMessages(s)}).done(function(s){if(!s.success&&s.message){var r={error:[s.message]};Joomla.renderMessages(r)}if(s.messages&&Joomla.renderMessages(s.messages),s.success){r={success:[s.message]};Joomla.renderMessages(r),jQuery(e).closest("tr").remove()}})},showActivities:function(e){var s={};s.slaId=jQuery(e).val(),slaService.showActivities(s).fail(function(e){var s={error:[e.responseText]};sla.renderMessage(s)}).done(function(e){if(jQuery(".load-types").empty(),null!=e){if(!e.success&&e.message){var s={error:[e.message]};sla.renderMessage(s)}e.success&&e.data&&jQuery(".load-types").append(e.data)}})},validateCount:function(e){var s=jQuery(e);if(s.val(parseInt(s.val())),parseInt(s.val())>parseInt(activityLimit)){s.val("");var r={error:[errorMsg]};sla.renderMessage(r)}},renderMessage:function(e){Joomla.renderMessages(e),jQuery("html, body").animate({scrollTop:0},1e3)}};
